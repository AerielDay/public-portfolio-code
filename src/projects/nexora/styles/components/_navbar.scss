/*
    Nexora Navbar Styles
    - Purpose: styles for the top navigation used across Nexora pages.
    - Notes: uses layout tokens from `abstracts/_variables.scss` and shared mixins.
    - Migration: keep behavioral/layout rules here; visual tokens should be updated in variables.
*/

@use '../abstracts/variables' as *;
@use '../abstracts/mixins' as *;

.nexora-navbar {
    display: flex;
    justify-content: space-around;
    align-items: center;
    gap: $nex-gap-med;
    padding: $nex-head-padding;
    background: $nexora-light;
    border-bottom: 2px solid $nexora-border;
    margin: 0;
    top: 0;
    z-index: 100;
    box-shadow: $cta-hero-hovShad; // replaced hard-coded shadow

    @include xsm_media {
        gap: $nex-gap-sm;
        padding: $nex-media-phead-pad-sm;
    }

    @media(min-width:950px) {
        justify-content: space-between;
    }

    //     // Desktop layout - contain within max-width and center nav
    //     // @media (min-width: 769px) {
    //     //     // Create inner container to respect max-width
    //     //     justify-content: center;

    //     //     // Wrapper to constrain content
    //     //     &::before {
    //     //         content: '';
    //     //         position: absolute;
    //     //         left: 0;
    //     //         right: 0;
    //     //         top: 0;
    //     //         bottom: 0;
    //     //         max-width: 1200px;
    //     //         margin: 0 auto;
    //     //         pointer-events: none;
    //     //     }

    //     //     .navbar-brand {
    //     //         position: absolute;
    //     //         left: 50%;
    //     //         transform: translateX(calc(-600px + 2rem)); // Half of 1200px max-width + padding
    //     //     }

    //     //     // Center the nav links
    //     //     .all-links {
    //     //         margin: 0 auto;
    //     //     }
    //     // }

    .navbar-brand {
        flex-shrink: 0;

        .brand-link {
            @include brand_link_base;

            @include brand_link_sm;

            @include sm_media {
                font-size: 1.25rem;
            }

            ;

        }
    }

    .navbar-links {
        display: flex;
        gap: 2rem;
        list-style: none;
        margin: 0;
        padding: 0;
        align-items: center;

        @include xsm_media {
            gap: $nex-gap-base;
        }

        li {
            white-space: nowrap;
        }

        a {
            color: $nexora-secondaryBG;
            text-decoration: none;
            font-weight: 600;
            transition: color 0.2s;

            &:hover,
            &.active {
                color: $nexora-accent;
                text-decoration: underline;
            }
        }

        //     //     &.priority-links {

        //     //         // Mobile: compact spacing
        //     //         // @media (max-width: 768px) {
        //     //         //     gap: 0.75rem;

        //     //         //     a {
        //     //         //         font-size: 0.9rem;
        //     //         //     }
        //     //         // }
        //     //     }

        //     //     // Desktop: show all links horizontally
        &.all-links {
            // @media (min-width: 640px) {
            //     display: flex;
            // }

            @media (max-width: 690px) {
                display: none;
            }

            @media (min-width: 768px) {
                font-size: 0.95rem;
            }

            @media (min-width: 1120px) {
                font-size: 1rem;
            }
        }
    }

    //     // Hide priority links on desktop (use all-links instead)
    .priority-links {
        @media (min-width: 690px) {
            display: none;
        }
    }

    //     // Overflow menu container
    .navbar-overflow {
        position: relative;
        display: flex;
        align-items: center;

        //     //     // Hide overflow menu on desktop
        @media (min-width: 690px) {
            display: none;
        }

        .overflow-toggle {
            background: transparent;
            border: none;
            color: $nexora-secondaryBG;
            font-size: 1.75rem;
            font-weight: 700;
            cursor: pointer;
            padding: 0.25rem 0.5rem;
            line-height: 1;
            transition: color 0.2s;

            &:hover {
                color: $nexora-accent;
            }

            &:focus {
                outline: 2px solid $nexora-accent;
                outline-offset: 2px;
            }

            // @media (max-width: 640px) {
            //     font-size: 1.5rem;
            // }
        }

        .overflow-menu {
            position: absolute;
            top: calc(100% + 0.5rem);
            right: 0;
            background: $nexora-light;
            border: 2px solid $nexora-border;
            border-radius: 8px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
            list-style: none;
            margin: 0;
            padding: 0.5rem 0;
            min-width: 180px;
            z-index: 1000;

            li {
                margin: 0;
                padding: 0;

                &.active a {
                    background: rgba($nexora-accent, 0.1);
                }

                a {
                    display: block;
                    padding: 0.75rem 1.25rem;
                    color: $nexora-secondaryBG;
                    text-decoration: none;
                    font-weight: 600;
                    font-size: 0.95rem;
                    transition: background 0.2s, color 0.2s;

                    &:hover {
                        background: rgba($nexora-accent, 0.15);
                        color: $nexora-accent;
                        text-decoration: none;
                    }
                }
            }
        }
    }
}